<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" type="image/x-icon" href="assets/vphreeLogo.png">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Silkscreen|Ubuntu+Mono|Roboto+Mono|Montserrat">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript" src="https://cdn.ethers.io/lib/ethers-5.7.umd.min.js"></script>
 	<script src="./components/header.js"></script>
	<script src="./components/footer.js"></script>
	<script src="v3-list.js"></script>
	<script src="script.js" defer></script>	
	<title>VPHREE</title>
</head>
<body>
	<div class="page">
		<comp-header></comp-header>
		<div class="content mx-4"> <!--start of nft info-->
			<h2 id="title" class="mt-4 lite-v3-txt">v3phunk #---</h2>
			<div class="row-wrapper d-block px-0 mt-1">
				<div class="nft-info col-md-4 d-inline-block pl-0 align-top v3-bg">
					<div id="img-wrapper"></div>
				</div>
				<div class="metadata col-md-4 d-inline-block align-top">
					<div class="id-and-owner">
						<p>Owner: <a id="owner">---</a></p>
					</div>
					<div class="metadata" id="md"></div>
				</div>
				<div class="contract-interactions col-md-3 d-inline-block pr-0 align-top">
					<div class="price-and-bid">
						<p id="price">Price: ---</p>
						<p id="bid" class="d-none">Top Bid: ---</p>
						<p class="d-none">Bidder: <a id="top-bidder">---</a></p>
					</div>
					<div class="buy-bid-buttons d-none">
						<button class="v3-bg w-100 p-1 my-2 brite d-none" 
								onclick="buyPhunk();"
								id="buy-btn">BUY</button>
						<br>
						<button class="v3-bg w-100 p-1 my-2 brite d-none" 
								onclick="togl('enter-bid-amount');"
								id="bid-btn-togl">BID</button>
						<br>
						<div class="d-none" id="enter-bid-amount">
							<input
								class="lite-v3-bg w-100 p-1 my-2" 
								type="number" 
								name="bid-amt" 
								placeholder="bid amount"
								id="bid-amt">
							<br>
							<button class="black-bg v3-txt v3-b w-100 p-1 my-2 brite" 
									onclick="bidOnPhunk();"
									id="place-bid-btn">PLACE BID</button>
						</div>
						<button class="v3-bg w-100 p-1 my-2 brite d-none"
								onclick="cancelPhunkBid()"
								id="cxl-bid-btn">CANCEL BID</button>
					</div>
					<div class="seller-buttons">
						<button class="v3-bg w-100 p-1 my-2 brite d-none" 
								onclick="togl('enter-list-amount');"
								id="list-btn-togl">LIST</button>
						<br>
						<div id="enter-list-amount" class="d-none">
							<input 
								class="lite-v3-bg w-100 p-1 my-2" 
								type="number" 
								name="sell-amt" 
								placeholder="list price"
								id="sell-amt">
							<br>
							<button class="black-bg v3-txt v3-b w-100 p-1 my-2 brite" 
									onclick="offerPhunkForSale();">LIST</button>
						</div>
						<button class="v3-bg w-100 p-1 my-2 brite d-none" 
								onclick="delistPhunk();"
								id="delist-btn">DELIST</button>
						<br>
						<button class="v3-bg w-100 p-1 my-2 brite d-none" 
								onclick="acceptBidForPhunk();"
								id="accept-bid-btn">ACCEPT BID</button>
					</div>
				</div>
			</div>
			<div class="row-wrapper mt-5">
				<div class="tx-history"></div>
			</div>
		</div>
		<script type="text/javascript">
			const p = window.location.hash.substr(1);
			const iw = document.createElement('img');
			iw.src = phunks[p].image_url;
			iw.class = 'w-100';
			document.getElementById('title').innerHTML = 'v3phunk #' + p;
			document.getElementById('img-wrapper').appendChild(iw);
			document.getElementById('md').innerHTML = phunks[p].md;
		</script>		<!--end of nft info-->
		<comp-footer></comp-footer>
	</div>
</body>
</html>